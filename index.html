<!doctype html>
<html itemscope itemtype="http://schema.org/SoftwareApplication">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>MySQL SVN Backup by Sam Bauers</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Schema.org Properties -->
    <!-- Thing -->
    <meta itemprop="description" content="MySQL SVN Backup provides an easy way to backup your MySQL database to an SVN or GIT repository.">
    <meta itemprop="image" content="https://sambauers.github.io/mysql-svn-backup/images/mysql-svn-backup.png">
    <meta itemprop="name" content="MySQL SVN Backup">
    <meta itemprop="url" content="https://sambauers.github.io/mysql-svn-backup">
    <!-- CreativeWork -->
    <meta itemprop="author" content="Sam Bauers">
    <meta itemprop="copyrightHolder" content="Sam Bauers">
    <meta itemprop="creator" content="Sam Bauers">
    <meta itemprop="isFamilyFriendly" content="true">
    <meta itemprop="keywords" content="MySQL, Subversion, SVN, GIT, Backup, Bash">
    <meta itemprop="publisher" content="Sam Bauers">
    <!-- SoftwareApplication -->
    <meta itemprop="applicationCategory" content="Utility">
    <meta itemprop="applicationSubCategory" content="Backup">
    <meta itemprop="downloadUrl" content="https://github.com/sambauers/mysql-svn-backup/zipball/master">
    <meta itemprop="operatingSystem" content="Mac OS X, Linux, BSD">
    <meta itemprop="requirements" content="Bash, MySQL, Subversion or GIT">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="fb-root"></div>
    <div class="wrapper">
      <header>
        <h1>MySQL SVN Backup</h1>
        <p>MySQL SVN Backup provides an easy way to backup your MySQL databases to an SVN or GIT repository.</p>
        <p class="view"><a href="https://github.com/sambauers/mysql-svn-backup">View the Project on GitHub <small>sambauers/mysql-svn-backup</small></a></p>
        <ul>
          <li><a href="https://github.com/sambauers/mysql-svn-backup/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/sambauers/mysql-svn-backup/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/samabuers/mysql-svn-backup">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <ul class="social">
          <li>
            <div class="fb-like" data-href="https://sambauers.github.io/mysql-svn-backup" data-send="false" data-layout="button_count" data-width="450" data-show-faces="false" data-font="arial"></div>
          </li>
          <li style="width: 100px; margin-top: 1px;">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="https://sambauers.github.io/mysql-svn-backup" data-text="MySQL SVN Backup - A script for those times when an &quot;enterprise&quot; solution is overkill." data-via="sambauers" data-dnt="true">Tweet</a>
          </li>
        </ul>
        <h2>About MySQL SVN Backup</h2>

<p>When run locally on a MySQL platform it makes local dumps of databases table-by-table to files. These files are then automatically checked into a preconfigured Subversion or GIT repository.</p>

<p>The primary advantage is in having complete incremental historical snapshots of your database(s) available for potentially a longer time than standard monolithic database dumps.</p>

<p>If you find you need to transpose databases to other locations a lot, then storing your backups in a remote version control repository can help to speed things up. Instead of waiting for an entire dump to be transferred, you can just keep a local working copy of the backup and update the incremental changes using Subversion or GIT before importing the data into MySQL.</p>

<p>Some further rationale for it's existence is in <a href="https://github.com/sambauers/mysql-svn-backup/blob/master/RATIONALE.md">this document</a>.</p>

<p>This method and tool is not recommended for huge databases (or at least it hasn't been tested). It is probably also not much good for databases that store a lot of frequently changing binary data.</p>

<p>You can automate the backup process by setting up a cron job on your server.</p>

<h2>Dependencies</h2>

<ul>
<li>Bash Shell</li>
<li>MySQL command line client and MySQLDump</li>
<li>Subversion or GIT command line tools</li>
<li>A remote Subversion or GIT repository</li>
</ul>

<h2>Configuration</h2>

<p>Move all the <code>conf/*.conf.example</code> files to <code>conf/*.conf</code>, here's a one-liner for that:</p>

<div class="highlight">
<pre><span class="nv">$ </span>for FILE in conf/*.example; do mv $FILE ${FILE%.example}; done</pre>
</div>

<p>You should end up with:</p>

<ul>
<li><code>conf/local.conf</code></li>
<li><code>conf/databases.conf</code></li>
<li><code>conf/skiptables.conf</code></li>
</ul>

<p>Read the comments in all the config files for configuration hints.</p>

<h2>Usage</h2>

<p>Once configured you can run <code>mysql-svn.sh</code></p>

<p>You will probably need to make the script executable:</p>

<div class="highlight">
<pre><span class="nv">$ </span>chmod 755 mysql-svn.sh</pre>
</div>

<p>Then run the script without any options like this:</p>

<div class="highlight">
<pre><span class="nv">$ </span>./mysql-svn.sh</pre>
</div>

<p>The script does not report any status to the command line by default. This is because it is primarily designed to be invoked by a scheduler like <em>cron</em>. Check the output in the log file at <code>mysql-svn.log</code> for details of fatal errors, warnings and generally what happened during the backup run. If you really want the script to log output to the screen then you can adjust the LOGSTORE variable in <code>conf/local.conf</code>.</p>

<h2>Restoring from your backups</h2>

<p>To restore from the file-per-table files, you can do the following from the designated dump directory:</p>

<div class="highlight">
<pre><span class="nv">$ </span>mysql -u root -p -e <span class="s2">"CREATE DATABASE \`my_database\`;"</span>
<span class="nv">$ </span>cat my_database/*.sql | mysql -u root -p my_database</pre>
</div>

<p>This will create the database and then concatenate the sql files and pass them through the mysql client to be executed.</p>

<h2>License</h2>

<p>MySQL SVN Backup is distributed under the MIT license. Go nuts.</p>

      </section>
      <footer>
        <p>Project maintained by <a href="https://github.com/sambauers">Sam Bauers</a></p>
        <ul style="padding-left:0; list-style:none;">
          <li><small>Hosted on GitHub Pages</small></li>
          <li><small>Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></li>
          <li><small>Logo from icons by <a href="http://p.yusukekamiyamane.com/">Yusuke Kamiyamane</a></small></li>
        </ul>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    <script type="text/javascript" src="//connect.facebook.net/en_US/all.js#xfbml=1" async id="facebook-jssdk"></script>
    <script type="text/javascript" src="//platform.twitter.com/widgets.js" async id="twitter-wjs"></script>
    <script type="text/javascript" src="//apis.google.com/js/plusone.js" async></script>
  </body>
</html>
